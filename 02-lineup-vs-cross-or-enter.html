<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CATC Scenario 2 - Line-Up vs Cross or Enter</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body data-scenario="2">

<!-- Sidebar (injected by shared.js) -->
<div id="sidebar-root"></div>

<!-- Navigation -->
<nav class="navbar">
    <div style="display:flex; align-items:center; gap:0.8rem;">
        <button class="sidebar-toggle" onclick="toggleSidebar()">&#9776; <span class="sidebar-toggle-label" data-i18n="nav-scenarios">Scenarios</span></button>
        <a href="index.html" data-i18n="nav-home" style="color:white; text-decoration:none; font-size:0.9rem; opacity:0.85;">CATC Scenarios</a>
    </div>
    <div class="nav-links">
        <div class="lang-toggle">
            <button class="lang-btn active" onclick="setLang('en')">EN</button>
            <button class="lang-btn" onclick="setLang('tr')">TR</button>
        </div>
        <span class="scenario-badge" id="scenario-badge">Scenario 2 / 22</span>
        <a id="nav-prev" href="01-lineup-vs-lineup.html">&larr; Prev</a>
        <a id="nav-next" href="03-lineup-vs-takeoff.html">Next &rarr;</a>
    </div>
</nav>

<!-- Pagination Bar (injected by shared.js) -->
<div id="pagination-root"></div>

<!-- Hero -->
<header class="hero">
    <h1>Line-Up vs Cross or Enter</h1>
    <p class="subtitle" data-i18n="hero-subtitle">An aircraft is cleared to Line-Up while another is cleared to Cross or Enter the same runway</p>
    <div class="clearance-tags">
        <span class="clearance-tag">LINE-UP <span class="vs">vs</span> CROSS / ENTER</span>
    </div>
</header>

<div class="container">

    <!-- Data Required -->
    <section class="card">
        <h2><span class="icon">&#128202;</span> <span data-i18n="section-data">Data Required</span></h2>
        <div class="data-tags">
            <span class="data-tag av-term" data-tooltip="Instructions issued by ATC" data-i18n="tag-clearances">Clearances</span>
            <span class="data-tag av-term" data-tooltip="Designated runway information" data-i18n="tag-runway">Assigned Runway</span>
            <span class="data-tag av-term" data-tooltip="Waiting point before runway entry" data-i18n="tag-hp">Holding Point</span>
            <span class="data-tag av-term" data-tooltip="Radar/tracking data" data-i18n="tag-surv">Surveillance</span>
        </div>
    </section>

    <!-- General Rule -->
    <section class="card">
        <h2><span class="icon">&#9888;&#65039;</span> <span data-i18n="section-rule">General Rule</span></h2>
        <div class="rule-box" data-i18n="rule-text">
            <strong>Important:</strong> In each scenario, it is deemed that the <strong>first Clearance</strong> in the heading title is the one that has been input by the Controller first and the <strong>second Clearance triggers</strong> the alert.
        </div>
    </section>

    <!-- Alert Triggered -->
    <section class="card">
        <h2><span class="icon">&#128680;</span> <span data-i18n="section-alert">Alert Triggered</span></h2>

        <!-- Situation 1 -->
        <div class="situation">
            <div class="situation-header">
                <span class="situation-number">1</span>
                <span class="situation-title" data-i18n="sit1-title">Opposite Holding Point &ndash; Cross or Enter</span>
            </div>
            <div class="situation-body">
                <p class="situation-description" data-i18n="sit1-desc">
                    If <span class="callsign">IBE987</span> is given <span class="av-term" data-tooltip="Piste giris talimati">Line-Up</span> and
                    <span class="callsign">CHECKER1</span> is given <span class="av-term" data-tooltip="Pisti gecme veya piste girme talimati">Cross or Enter</span> from a
                    <span class="av-term" data-tooltip="Bekleme noktasi">holding point</span>
                    <strong>directly opposite</strong> on the same runway.
                </p>
                <span class="conflict-result">&#9888; CONFLICT</span>

                <!-- SVG Diagram -->
                <div class="diagram-container">
                    <svg width="700" height="280" viewBox="0 0 700 280" xmlns="http://www.w3.org/2000/svg">
                        <!-- Grass background -->
                        <rect x="0" y="0" width="700" height="280" fill="#2d4a2d" rx="8"/>

                        <!-- Runway -->
                        <rect x="50" y="110" width="600" height="60" fill="#555" rx="4"/>
                        <rect x="50" y="137" width="600" height="6" fill="#fff" opacity="0.3"/>
                        <!-- Runway dashes -->
                        <line x1="90" y1="140" x2="120" y2="140" stroke="white" stroke-width="2" stroke-dasharray="4,4"/>
                        <line x1="150" y1="140" x2="180" y2="140" stroke="white" stroke-width="2" stroke-dasharray="4,4"/>
                        <line x1="210" y1="140" x2="240" y2="140" stroke="white" stroke-width="2" stroke-dasharray="4,4"/>
                        <line x1="270" y1="140" x2="300" y2="140" stroke="white" stroke-width="2" stroke-dasharray="4,4"/>
                        <line x1="330" y1="140" x2="360" y2="140" stroke="white" stroke-width="2" stroke-dasharray="4,4"/>
                        <line x1="390" y1="140" x2="420" y2="140" stroke="white" stroke-width="2" stroke-dasharray="4,4"/>
                        <line x1="450" y1="140" x2="480" y2="140" stroke="white" stroke-width="2" stroke-dasharray="4,4"/>
                        <line x1="510" y1="140" x2="540" y2="140" stroke="white" stroke-width="2" stroke-dasharray="4,4"/>
                        <line x1="570" y1="140" x2="600" y2="140" stroke="white" stroke-width="2" stroke-dasharray="4,4"/>

                        <!-- Runway labels -->
                        <text x="58" y="147" fill="white" font-size="14" font-weight="bold">05</text>
                        <text x="626" y="147" fill="white" font-size="14" font-weight="bold">23</text>

                        <!-- Taxiway South (IBE987 holding point) -->
                        <rect x="490" y="170" width="30" height="55" fill="#6b8a4a" rx="2"/>
                        <line x1="485" y1="170" x2="525" y2="170" stroke="#ffcc00" stroke-width="3"/>

                        <!-- Taxiway North (CHECKER1 crossing) -->
                        <rect x="490" y="55" width="30" height="55" fill="#6b8a4a" rx="2"/>
                        <line x1="485" y1="110" x2="525" y2="110" stroke="#ffcc00" stroke-width="3"/>

                        <!-- Other aircraft on the runway (context) -->
                        <!-- KLM789 at left end -->
                        <g transform="translate(100, 200)">
                            <polygon points="0,-12 -5,8 0,4 5,8" fill="#888" stroke="#aaa" stroke-width="1" opacity="0.5"/>
                        </g>
                        <rect x="113" y="188" width="62" height="18" fill="rgba(0,0,0,0.4)" rx="3"/>
                        <text x="118" y="201" fill="#aaa" font-size="10" font-weight="bold" font-family="monospace">KLM789</text>

                        <!-- DLH321 mid runway area -->
                        <g transform="translate(350, 200)">
                            <polygon points="0,-12 -5,8 0,4 5,8" fill="#888" stroke="#aaa" stroke-width="1" opacity="0.5"/>
                        </g>
                        <rect x="363" y="188" width="62" height="18" fill="rgba(0,0,0,0.4)" rx="3"/>
                        <text x="368" y="201" fill="#aaa" font-size="10" font-weight="bold" font-family="monospace">DLH321</text>

                        <!-- Aircraft IBE987 (south HP - Line-Up) -->
                        <g transform="translate(505, 200)">
                            <polygon points="0,-12 -5,8 0,4 5,8" fill="#00cc44" stroke="#00ff55" stroke-width="1"/>
                        </g>
                        <rect x="518" y="188" width="62" height="18" fill="rgba(0,0,0,0.7)" rx="3"/>
                        <text x="523" y="201" fill="#00ff55" font-size="11" font-weight="bold" font-family="monospace">IBE987</text>
                        <text x="523" y="218" fill="#aaa" font-size="9" data-svg-i18n="svg-lup-label">LINE-UP</text>

                        <!-- Aircraft CHECKER1 (north HP - Cross or Enter) -->
                        <g transform="translate(505, 80)">
                            <polygon points="0,12 -5,-8 0,-4 5,-8" fill="#ff4444" stroke="#ff6666" stroke-width="1"/>
                        </g>
                        <rect x="518" y="66" width="78" height="18" fill="rgba(0,0,0,0.7)" rx="3"/>
                        <text x="523" y="79" fill="#ff6666" font-size="11" font-weight="bold" font-family="monospace">CHECKER1</text>
                        <text x="523" y="58" fill="#aaa" font-size="9" data-svg-i18n="svg-cross-label">CROSS/ENTER</text>

                        <!-- Crossing arrow for CHECKER1 -->
                        <line x1="505" y1="90" x2="505" y2="165" stroke="#ff4444" stroke-width="2" stroke-dasharray="6,3" opacity="0.7"/>
                        <polygon points="505,168 500,158 510,158" fill="#ff4444" opacity="0.7"/>

                        <!-- Line-Up arrow for IBE987 -->
                        <line x1="505" y1="187" x2="505" y2="115" stroke="#00cc44" stroke-width="1.5" stroke-dasharray="5,3" opacity="0.5"/>
                        <polygon points="505,112 500,122 510,122" fill="#00cc44" opacity="0.5"/>

                        <!-- Conflict indicator -->
                        <circle cx="505" cy="140" r="14" fill="none" stroke="#ff4444" stroke-width="2.5" opacity="0.7"/>
                        <text x="500" y="145" fill="#ff4444" font-size="14" font-weight="bold">!</text>

                        <rect x="290" y="16" width="120" height="24" fill="rgba(255,68,68,0.15)" stroke="#ff4444" stroke-width="1.5" rx="5"/>
                        <text x="308" y="33" fill="#ff4444" font-size="12" font-weight="bold">CONFLICT</text>

                        <!-- Legend -->
                        <rect x="15" y="15" width="170" height="50" fill="rgba(0,0,0,0.5)" rx="5"/>
                        <polygon points="30,28 25,40 30,36 35,40" fill="#00cc44"/>
                        <text x="45" y="38" fill="#ccc" font-size="10" data-svg-i18n="svg-first">Line-Up (first clearance)</text>
                        <polygon points="30,48 25,60 30,56 35,60" fill="#ff4444"/>
                        <text x="45" y="58" fill="#ccc" font-size="10" data-svg-i18n="svg-second">Cross/Enter (trigger)</text>
                    </svg>
                </div>
                <p class="diagram-label" data-i18n="sit1-diagram">IBE987 at south holding point (Line-Up), CHECKER1 crossing from the opposite side</p>
            </div>
        </div>
    </section>

    <!-- Exemptions -->
    <section class="card">
        <h2><span class="icon">&#9989;</span> <span data-i18n="section-exemptions">Exemptions to the Rule</span></h2>
        <ul class="exemption-list">
            <li>
                <span class="exemption-number">1</span>
                <div data-i18n="exemption1">
                    <span class="no-alert-badge">&#10003; NO ALERT</span> is triggered if the aircraft lining up has reached a position (local parameter) where it is considered <strong>not to be an obstruction</strong> to the mobile crossing behind it or moving away from it.
                </div>
            </li>
        </ul>
    </section>

    <!-- Summary Table -->
    <section class="card">
        <h2><span class="icon">&#128203;</span> <span data-i18n="section-ref">Quick Reference</span></h2>
        <table style="width:100%; border-collapse:collapse; font-size:0.9rem;">
            <thead>
                <tr style="background:#eef2ff;">
                    <th style="padding:0.7rem; text-align:left; border-bottom:2px solid var(--border);" data-i18n="th-situation">Situation</th>
                    <th style="padding:0.7rem; text-align:left; border-bottom:2px solid var(--border);" data-i18n="th-position">Position</th>
                    <th style="padding:0.7rem; text-align:center; border-bottom:2px solid var(--border);" data-i18n="th-alert">Alert</th>
                    <th style="padding:0.7rem; text-align:left; border-bottom:2px solid var(--border);" data-i18n="th-exemption">Exemption</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td style="padding:0.6rem;">1</td>
                    <td style="padding:0.6rem;" data-i18n="td-pos1">Opposite <span class="av-term" data-tooltip="Holding Point &ndash; Bekleme Noktasi">HP</span>, Cross or Enter</td>
                    <td style="padding:0.6rem; text-align:center;">
                        <span class="conflict-result">CONFLICT</span>
                    </td>
                    <td style="padding:0.6rem;" data-i18n="td-ex1">Aircraft past obstruction point (local parameter)</td>
                </tr>
            </tbody>
        </table>
    </section>

    <!-- Footer Navigation (injected by shared.js) -->
    <div id="footer-nav-root"></div>

</div>

<footer>
    <p data-i18n="footer1">EUROCONTROL Specification for A-SMGCS Services &mdash; Edition 2.0 &mdash; Appendix B</p>
    <p style="margin-top:0.3rem;" data-i18n="footer2">CATC (Conflicting ATC Clearances) Scenario Documentation</p>
</footer>

<script src="js/scenarios.js"></script>
<script src="js/shared.js"></script>
<script>
var pageTranslations = {
    en: {
        'nav-badge': 'Scenario 2 / 22',
        'nav-prev': '&larr; Prev',
        'nav-next': 'Next &rarr;',
        'hero-subtitle': 'An aircraft is cleared to Line-Up while another is cleared to Cross or Enter the same runway',
        'tag-clearances': 'Clearances',
        'tag-runway': 'Assigned Runway',
        'tag-hp': 'Holding Point',
        'tag-surv': 'Surveillance',
        'sit1-title': 'Opposite Holding Point &ndash; Cross or Enter',
        'sit1-desc': 'If <span class="callsign">IBE987</span> is given <span class="av-term" data-tooltip="Enter and wait on runway">Line-Up</span> and <span class="callsign">CHECKER1</span> is given <span class="av-term" data-tooltip="Cross or enter the runway">Cross or Enter</span> from a <span class="av-term" data-tooltip="Waiting point before runway entry">holding point</span> <strong>directly opposite</strong> on the same runway.',
        'sit1-diagram': 'IBE987 at south holding point (Line-Up), CHECKER1 crossing from the opposite side',
        'exemption1': '<span class="no-alert-badge">&#10003; NO ALERT</span> is triggered if the aircraft lining up has reached a position (local parameter) where it is considered <strong>not to be an obstruction</strong> to the mobile crossing behind it or moving away from it.',
        'td-pos1': 'Opposite <span class="av-term" data-tooltip="Holding Point &ndash; Waiting point before runway">HP</span>, Cross or Enter',
        'td-ex1': 'Aircraft past obstruction point (local parameter)',
        'btn-prev': '&larr; Line-Up vs Line-Up',
        'btn-next': 'Next: Line-Up vs Take-Off &rarr;',
        'svg-first': 'Line-Up (first clearance)',
        'svg-second': 'Cross/Enter (trigger)',
        'svg-lup-label': 'LINE-UP',
        'svg-cross-label': 'CROSS/ENTER'
    },
    tr: {
        'nav-badge': 'Senaryo 2 / 22',
        'nav-prev': '&larr; \u00d6nceki',
        'nav-next': 'Sonraki &rarr;',
        'hero-subtitle': 'Bir hava aracina Line-Up talimati verilmisken, digerine ayni pistte Cross or Enter talimati veriliyor',
        'tag-clearances': 'Clearances',
        'tag-runway': 'Assigned Runway',
        'tag-hp': 'Holding Point',
        'tag-surv': 'Surveillance',
        'sit1-title': 'Karsi Holding Point &ndash; Cross or Enter',
        'sit1-desc': '<span class="callsign">IBE987</span> ucagina <span class="av-term" data-tooltip="Piste giris talimati">Line-Up</span> talimati verildiyse ve <span class="callsign">CHECKER1</span> aracina ayni pistte <strong>tam karsisindaki</strong> <span class="av-term" data-tooltip="Bekleme noktasi">holding point</span>\'ten <span class="av-term" data-tooltip="Pisti gecme veya piste girme talimati">Cross or Enter</span> talimati verildiyse.',
        'sit1-diagram': 'IBE987 guney holding point\'te (Line-Up), CHECKER1 karsi taraftan pisti geciyor',
        'exemption1': 'Piste giren ucak, yerel parametreye g\u00f6re arkasindaki veya kendisinden uzaklasan araca <strong>engel teskil etmeyecegi bir konuma</strong> ulastiysa <span class="no-alert-badge">&#10003; ALARM YOK</span> seklinde degerlendirilir.',
        'td-pos1': 'Karsi <span class="av-term" data-tooltip="Holding Point &ndash; Bekleme Noktasi">HP</span>, Cross or Enter',
        'td-ex1': 'Ucak engel noktasini gecmis (yerel parametre)',
        'btn-prev': '&larr; Line-Up vs Line-Up',
        'btn-next': 'Sonraki: Line-Up vs Take-Off &rarr;',
        'svg-first': 'Line-Up (ilk talimat)',
        'svg-second': 'Cross/Enter (tetikleyici)',
        'svg-lup-label': 'LINE-UP',
        'svg-cross-label': 'CROSS/ENTER'
    }
};

var pageTooltips = {
    en: {
        'Clearances': 'Instructions issued by ATC',
        'Assigned Runway': 'Designated runway information',
        'Holding Point': 'Waiting point before runway entry',
        'Surveillance': 'Radar/tracking data'
    },
    tr: {
        'Clearances': 'ATC tarafindan verilen talimatlar',
        'Assigned Runway': 'Atanmis pist bilgisi',
        'Holding Point': 'Piste girmeden onceki bekleme noktasi',
        'Surveillance': 'Radar/gozetim verisi'
    }
};

initScenario();
</script>

</body>
</html>